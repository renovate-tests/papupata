(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"3KYE":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("q1tI"),u=r.createContext(!1)},Kg6r:function(t,e,n){"use strict";n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return g})),n.d(e,"i",(function(){return k})),n.d(e,"a",(function(){return w})),n.d(e,"n",(function(){return P})),n.d(e,"h",(function(){return q})),n.d(e,"g",(function(){return A})),n.d(e,"f",(function(){return T})),n.d(e,"b",(function(){return x})),n.d(e,"e",(function(){return D})),n.d(e,"c",(function(){return R})),n.d(e,"d",(function(){return F})),n.d(e,"m",(function(){return K})),n.d(e,"l",(function(){return J}));n("f3/d");var r=n("vOnD"),u=n("q1tI"),a=n.n(u),l=n("P+0o"),c=n("3KYE"),o=n("qKvR");function d(){var t=h([""]);return d=function(){return t},t}function i(){var t=h([""]);return i=function(){return t},t}function s(){var t=h([""]);return s=function(){return t},t}function p(){var t=h([""]);return p=function(){return t},t}function b(){var t=h([""]);return b=function(){return t},t}function j(){var t=h(["\n  padding: 15px 30px;\n  background: lightyellow;\n"]);return j=function(){return t},t}function O(){var t=h([""]);return O=function(){return t},t}function f(){var t=h([""]);return f=function(){return t},t}function v(){var t=h([""]);return v=function(){return t},t}function h(t,e){return e||(e=t.slice(0)),t.raw=e,t}var m=r.a.section(v()),g=r.a.h4(f()),y=r.a.h5(O()),I=r.a.section(j()),k=function(t){var e=t.children;return Object(o.d)(m,null,Object(o.d)(g,null,"Purpose"),e)},w=function(t){var e=t.version;return Object(o.d)(m,null,Object(o.d)(g,null,"Availability"),"This functionality is available from papupata version ",e," onwards.")},P=function(t){var e=t.children;return Object(o.d)(m,null,Object(o.d)(g,null,"Usage"),e)},q=function(t){var e=t.children,n=t.includeAvailableFrom,r=t.label;return Object(o.d)(m,null,Object(o.d)(c.a.Provider,{value:!!n},Object(o.d)(g,null,"Parameters",r&&": "+r),e?Object(o.d)("table",null,Object(o.d)("thead",null,Object(o.d)("tr",null,Object(o.d)("th",null,"Name"),Object(o.d)("th",null,"Type"),Object(o.d)("th",null,"Description"),n&&Object(o.d)("th",null,"Introduced in"))),Object(o.d)("tbody",null,e)):Object(o.d)("p",null,"There are no parameters.")))},A=function(t){var e=t.children,n=t.name,r=t.dataType,u=t.availableFrom,l=void 0===u?"1.0.0":u,d=a.a.useContext(c.a);return Object(o.d)("tr",null,Object(o.d)("td",null,n),Object(o.d)("td",null,r),Object(o.d)("td",null,e),d&&Object(o.d)("td",null,l))},T=function(t){var e=t.children;return Object(o.d)(m,null,Object(o.d)(g,null,"Returns"),e)},x=function(t){var e=t.children;return Object(o.d)(m,null,Object(o.d)(g,null,"Caveats"),e)},D=function(t){var e=t.children;return Object(o.d)(m,null,Object(o.d)(g,null,"Examples"),e)},R=function(t){var e=t.children,n=t.label;return Object(o.d)(a.a.Fragment,null,n&&Object(o.d)(y,null,n),Object(o.d)(l.a,{language:"typescript"},e))},F=function(t){var e=t.children;return Object(o.d)(I,null,Object(o.d)(y,null,"Common to examples below:"),e)},K=function(t){var e=t.children,n=t.includeAvailableFrom;return Object(o.d)(m,null,Object(o.d)(g,null,"Type parameeters"),Object(o.d)(c.a.Provider,{value:!!n},Object(o.d)(g,null,"Parameters"),e?Object(o.d)("table",null,Object(o.d)("thead",null,Object(o.d)("tr",null,Object(o.d)("th",null,"Name"),Object(o.d)("th",null,"Default value"),Object(o.d)("th",null,"Description"),n?Object(o.d)("th",null,"Introduced in"):"")),Object(o.d)("tbody",null,e)):Object(o.d)("p",null,"There are no parameters.")))},S=r.a.tr(b()),C=r.a.td(p()),E=r.a.td(s()),N=r.a.td(i()),U=r.a.td(d()),J=function(t){var e=t.children,n=t.name,r=t.defaultValue,u=t.availableFrom,l=void 0===u?"none":u,d=a.a.useContext(c.a);return Object(o.d)(S,null,Object(o.d)(C,null,n),Object(o.d)(E,null,r),Object(o.d)(N,null,e),d?Object(o.d)(U,null,l):"")}},MpDW:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));n("q1tI");var r=n("Kg6r"),u=n("TBFr"),a=n("NqE+"),l=n("+ego"),c=n("qKvR");function o(){return Object(c.d)(l.a,null,Object(c.d)(a.a,null,Object(c.d)(u.a,null,Object(c.d)("h1",null,"API Reference"),Object(c.d)("h2",null,"module supertestInvoker"),Object(c.d)("h3",null,"Default export invokeSupertest")),Object(c.d)(r.i,null,"This module allows you to use supertest to make papupata API requests, while gaining access to the actual supertest request for things like setting up headers and making detailed assertions on the response."),Object(c.d)(r.a,{version:"1.5.0"}),Object(c.d)(r.n,null,Object(c.d)(r.c,null,"\n            import invokeSupertest from 'papupata/dist/main/supertestInvoker'\n          "),Object(c.d)("p",null,"To begin with, you'll want to set up a supertest request for your express application. Once done, you can create a supertest papupata adapter to start making API calls."),Object(c.d)("p",null,"Do note that you'll almost certainly want to configure papupata with a blank base URL to make things work.")),Object(c.d)(r.h,null,Object(c.d)(r.g,{name:"supertestRequest",dataType:"Supertest request"},"Supertest request"),Object(c.d)(r.g,{name:"api",dataType:"DeclaredAPI"},"The papupata API you wish to invoke"),Object(c.d)(r.g,{name:"args",dataType:"Object"},"The arguments to the API call, just as you'd pass to the API call normally.")),Object(c.d)(r.f,null,"Papupata MakeRequestAdapter"),Object(c.d)(r.e,null,Object(c.d)(r.c,null,"\n            import { APIDeclaration } from 'papupata'\n            import invokeSupertest from 'papupata/dist/main/supertestInvoker'\n            import express from 'express'\n            import supertest from 'supertest'\n            \n            const app = express()\n            const request = supertest(app)\n            const API = new APIDeclaration()\n            API.configure({\n              app,\n              baseURL: ''\n            })\n            const api = API.declareGetAPI('/:id').params(['id'] as const).response<string>\n\n            const req = invokeSupertest(request, api, {id: 'foo'})\n            await req.expect(200)\n          "))))}}}]);
//# sourceMappingURL=component---src-pages-api-supertest-invoker-tsx-dc54a36bb22cee1968cd.js.map